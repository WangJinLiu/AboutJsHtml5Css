<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>图片滚动</title>
	<style type="text/css">
	*{margin:0;padding:0;}
	#div1{
		width: 400px;
		height: 400px;
		border: 1px solid;
		position: relative;
		margin:0 auto;
		overflow: hidden;
	}
	#divborder img{
		width: 400px;
		height: 400px;
		display: inline-block;
		float: left;
	}
	#divborder{
		/*width: 1600px;*/
		position: absolute;
		left: 0;
		top:0;

		transition:all 2s;

	}
	#p1{
		position: absolute;
		top:180px;
		left: 0;

	}
	#p2{
		position: absolute;
		top:180px;
		left: 367px;

	}
	#divp p{
		display: inline-block;
		width: 10px;
		height: 10px;
		border: 1px solid;
		border-radius: 50%;
		top:0;
		left: 20px;
		margin-left: 10px;

	}
	#divp{
		position: absolute;
		top: 350px;
		left: 145px;
	}





	</style>
</head>
<body>
<div id="div1">
	<div id="divborder">
		<img src="img/01.jpg" alt="">
		<img src="img/02.jpg" alt="">
		<img src="img/03.jpg" alt="">
		<img src="img/04.jpg" alt="">
	</div>
	<p id="p1"><img src="img/zuo.png" alt=""></p>
	<p id="p2"><img src="img/you.png" alt=""></p>
	<div id="divp">
		<p id="p3" class="active"></p>
		<p id="p4"></p>
		<p id="p5"></p>
		<p id="p6"></p>
	</div>
</div>
<script type="text/javascript">
	var div1=document.getElementById('div1');
	var divborder=document.getElementById('divborder');
	var oimg=divborder.getElementsByTagName('img');
	var leftBtu=document.getElementById('p1');
	var rightBtu=document.getElementById('p2');
	var divp=document.getElementById('divp');
	var dian=divp.getElementsByTagName('p');
	console.log(dian);

	divborder.style.width=oimg.length*oimg[0].width+'px';
	var index=0;
	var move;
	dong();

	// for(var j=0;j<dian.length;j++)//闭包
	// {
	// 	dian[j].onclick=(function(a)
	// 	{
	// 		return function()
	// 		{
	// 			index=a;
	// 			left0();
	// 			yuandian(index);



	// 		}
	// 	})(j)

	// }
	for(var j=0;j<dian.length;j++)
	{
		dian[j].onclick=(function(a)
		{
			return function()
			{
				index=a;
				left0();
				yuandian(index);

			}

		}(j))

	}
	rightBtu.onclick=function()
	{
		index++;
		if(index>oimg.length-1)
		{
			index=0;
		}
		left0();
	}
	leftBtu.onclick=function()
	{
		index--;
		if(index<0)
		{
			index=oimg.length-1;
		}
		left0();
	}
	function yuandian(obj)
	{
		for(var i=0;i<dian.length;i++)
		{
			dian[i].style.background='none';

		}
		dian[obj].style.background='grey';

	}
	function left0()
	{
		divborder.style.left=index*-oimg[0].width+'px';
	}
	function dong()
	{
		 move=setInterval(function()
		{
			index++;
			console.log(index);
			if(index>oimg.length-1)
			{

				index=0;
			}
			left0();
			yuandian(index);


		},2000)
	}
	
	div1.onmouseover=function()
	{
		clearInterval(move);
	}
	div1.onmouseout=function()
	{
		dong();
	}

	








</script>
	
</body>
</html>