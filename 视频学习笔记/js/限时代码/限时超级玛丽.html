<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>超级玛丽</title>
	<style>
		#wrap{
			width: 600px;
			height: 400px;
			border: 1px solid;
			margin: 0 auto;
		}
		#content{
			width: 600px;
			height: 300px;
			background: pink;
			position: relative;
			background-image: url(./img/1.jpg);
			background-size: 100% 100%;
			background-position:0 0;
			  		}
		#move{

			width: 50px;
			height: 50px;
			background: black;
			position: absolute;
			left: 0;
			bottom: 0;
		}
		#bottom{
			width: 600px;
			height: 100px;
			background: grey;
		}
	</style>
</head>
<body>
	<div id="wrap">
		<div id="content">
			<div id="move"></div>
		</div>
		<div id="bottom"></div>
	</div>
</body>
<script src="./js/hero.js"></script>
<script>
	var myhero=new Hero({
		ele:"move",
		moveFn:function(){
			panduan(this.element,document.getElementById('content'));

		}

	})
	key();
	//键盘事件
	function key(){
		window.onkeydown=function(e){
			var e=e||window.event;
			switch(e.keyCode){
				case 37:
					myhero.deriction="left";
					myhero.move();
					break;
				case 39:
					myhero.deriction="right";
					myhero.move();
					break;
				case 40:
					myhero.jump();
					break;


			}

		}
		window.onkeyup=function(e){
			var e=e||window.event;
			switch(e.keyCode){
				case 37:
				case 39:
				myhero.stop();
				break;


			}


		}


	}
	//判断边界的函数
	function panduan(son,father){
		if(son.offsetLeft<=0){
			son.style.left=0;

		}
		if(son.offsetLeft>=300){
			son.style.left=300+'px';
			movebac(father);
		}
	}
	//背景图片的改变
	function movebac(father){
		var mm=get(father,"backgroundPosition");
		console.log(mm);
		var aa=mm.replace(/px/g,"");
		var bb=aa.split(" ");
		var cc=Number(bb[0]);
		cc-=2;
		father.style.backgroundPosition=cc+'px';


	}
	//获得计算后样式
	function get(a,classname){
		if(a.currentStyle){
			return a.currentStyle[classname];
		}else{
			return getComputedStyle(a,null)[classname];;
		}
	}
	





</script>
</html>