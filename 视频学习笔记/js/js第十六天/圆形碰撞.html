<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>圆形碰撞</title>
	<style>
	*{margin:0;padding:0;}
		#div1{
			width: 100px;
			height: 100px;
			background: red;
			position: absolute;
			left: 0;
			top: 0;
			border-radius: 50%;
		}
		#div2{
			width: 100px;
			height: 100px;
			background: pink;
			position: absolute;
			left: 400px;
			top: 0;
			border-radius: 50%;
		}




	</style>
</head>
<body>
	<div id="div1"></div>
	<div id="div2"></div>
</body>
<script type="text/javascript">
	var div1 = document.getElementById('div1');
	var div2 = document.getElementById('div2');
	var divs = document.getElementsByTagName('div');
	for(var i = 0;i < divs.length;i ++){
		divs[i].onmousedown = function(obj)
		{
			var LeftX = this.offsetLeft;
			var TopY = this.offsetTop;
			var X = obj.clientX;
			var Y = obj.clientY;
			var n = this;
			document.onmousemove = function(k)
			{
				var endX = k.clientX - X;
				var endY = k.clientY - Y;
				n.style.left = endX + LeftX + 'px';
				n.style.top = endY + TopY + 'px';
				var a = judge(div1,div2);
				console.log(a);
				if(a){
					alert('碰上了');
				}

			}
			document.onmouseup = function()
			{
				document.onmousemove = null;

			}
		}

	}
	//碰撞检测
	function judge(a,b)
	{
		var aX = a.offsetLeft + (a.offsetWidth/2);
		//第一个圆的x坐标值
		var aY = a.offsetTop + (a.offsetHeight/2);
		var bX = b.offsetLeft + (b.offsetWidth/2);
		//第二个圆的x坐标值
		var bY = b.offsetTop + (b.offsetHeight/2);
		var xdistance = (aX-bX)*(aX-bX);
		//两个圆圆心x轴之间的距离
		var ydistance = (aY-bY)*(aY-bY);
		var result = Math.sqrt(xdistance+ydistance);
		if(result<=(a.offsetWidth/2)+(b.offsetWidth/2)){
			return true;

		}
		else{
			return false;
		}


	}


	




</script>
</html>