<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>节奏大师</title>
	<style>
		#wrap{
			width: 1000px;
			height: 800px;
			border: 1px solid;
			margin:0 auto;
			overflow: hidden;
			

		}
		.row{
			width: 200px;
			height: 700px;
			border: 1px solid;
			float: left;
			margin-left: 40px;
			position: relative;

		}
		audio{
			width: 400px;
			height: 50px;
			margin:0 auto;
			margin-left: 100px;
		}
		.row div{
			border-radius: 20px;
			position: absolute;
			top:0;
			overflow: hidden;
		}



	</style>
</head>
<body>
	<div id="wrap">
		<div class="row"></div>
		<div class="row"></div>
		<div class="row"></div>
		<div class="row"></div>
		<audio src="bgm.mp3" controls="controls"></audio>
	</div>
	<script>
	var wrap=document.getElementById('wrap');
	var rows=document.getElementsByClassName('row');
	function rand(min,max){
		return Math.floor(Math.random()*(max-min+1)+min);

	}
	clearInterval(timer);
	var timer=setInterval(function(){
		var step=0;
		var div=document.createElement('div');
		div.style.background='red';
		div.style.width='200px';
		var m=rand(30,40);
		div.style.height=m+'px';
		rows[rand(0,3)].appendChild(div);
		clearInterval(timer0);
		var timer0=setInterval(function(){
			console.log(m);
			step++;
			div.style.top=step+'px';
			if(step>rows[0].offsetHeight-div.offsetHeight){
				div.style.display='none';
			}
		},10)
		


	},2000)





	</script>
	
</body>
</html>