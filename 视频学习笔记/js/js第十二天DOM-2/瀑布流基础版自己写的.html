<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>瀑布流基础版自己写的</title>
	<style>
		*{margin:0;padding:0;}

		#div_border{
			width: 960px;
			/*height: 100px;*/
			border: 1px solid;
			margin:0 auto;
			overflow: hidden;
			/*加上这个就可以自动给外边这个div设定宽度了*/

		}
		#div_border ul{
			width: 300px;
			/*border: 1px solid;*/
			float: left;
			margin-left: 15px;
			/*height: 5px;*/
			list-style: none;
			/*border-sizing:boder-box;*/
		}
		#div_border  ul li{
			border: 1px solid;
			margin-top: 10px;
			
		}

	</style>
</head>
<body>
	<div id="div_border">
		<ul></ul>
		<ul></ul>
		<ul></ul>
	</div>
	<script type="text/javascript">
		var div_border=document.getElementById('div_border');
		var list=document.getElementsByTagName('ul');
		//随机li的高度
		function ran(min,max)
		{
			return Math.floor(Math.random()*(max-min)+min);
		}
		getli();
		//获取li
		function getli()
		{
			//li的个数
			for(var i=0;i<20;i++)
			{
				var li=document.createElement('li');
				var height=ran(100,300);
				li.style.height=height+'px';
				li.innerHTML=i;
				var index=0;//ul中最小的索引
				var Arr=[];//把ul的高度存在里边

				for(var j=0;j<list.length;j++)
				{
					//这个for循环的目的：遍历ul找出当前ul高度最小的那个把当前随机出来的li插入进去
					Arr.push(list[j].offsetHeight);
					var min0=Arr[index];
					if(min0>Arr[j])
					{
						index=j;


					}
				}
				list[index].appendChild(li);

			}

		}
		window.onscroll=function()
		{
			var scrollTop1=document.body.scrollTop||document.documentElement.scrollTop;//实时滚动条高度
			var keshiquTop=document.documentElement.clientHeight;//可视区高度
			var neironggaodu=document.documentElement.offsetHeight;//内容高度
			var maxScrollTop=neironggaodu-keshiquTop;//最大的滚动高度
			if(scrollTop1>=maxScrollTop-300)
			{
				getli();

			}


		}









	</script>
	
</body>
</html>